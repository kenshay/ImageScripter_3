from Script_Runner.Loops.Default_Loop import Default_ScripRunner_Loop_Class




class Run_Next_Folder_On_Fail_Loop_Class(Default_ScripRunner_Loop_Class):
    def run(self):
        while True:
            FOLDER_IGNORE_LIST = []
            try:
                for Script_Dictionary in self.get_list_of_script_dictionaries():
                    self.script_path = Script_Dictionary['path']
                    self.script_name = Script_Dictionary['name']
                    self.script_directory = Script_Dictionary['directory_name']
                    if self.script_directory not in FOLDER_IGNORE_LIST:
                        self.execute_script(self.script_path)
                    else:
                        print(self.script_path + " in Ignore List Folder -> " + self.script_name)
            except Exception as e:
                print(e)
                self.print_last_traceback()
                FOLDER_IGNORE_LIST.append(self.script_directory)




if __name__ == '__main__':
    Loop = Run_Next_Folder_On_Fail_Loop_Class()
    Loop.run()
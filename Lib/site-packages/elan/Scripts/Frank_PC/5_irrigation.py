from elan import *


Viewer.Start()
Viewer.irrigation10items.Click()
Say("Looking to see if the irrigation system is connected")
Viewer.irrigationmiddle.Wait()
sleep(3)


if Viewer.greenbar.Exists(threshold = .98) == True:
    Say("The irrigation system appears to be connected")
else:
    raise ValueError('Irrigation is not working')

Viewer.manual.Click()
Viewer.flowerbedblacklawn.Wait()
Viewer.flowerbeds.Click()
Say("Im going to start watering the flower beds")
Viewer.irrigationstart.Click()
Viewer.flowerbedswatering.Wait()
Say("The flower beds are now being watered")
sleep(4)
Say("Im going to stop watering the flowers")
Viewer.stopirrigation.Click()
Viewer.irrigationallzonesoff.Wait()
Say("The flower beds are no longer being watered")
Viewer.runnothighlighted.Click()
Viewer.runwithgreen.Wait()


Viewer.shudder.Click()

Viewer.CloseAndClean()

print("Finished")
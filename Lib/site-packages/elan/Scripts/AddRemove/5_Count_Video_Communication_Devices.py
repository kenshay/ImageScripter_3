
from elan.functions import Get_Device_List_Simple,Diff
from elan import *

#DONE

Past_List = ['AvioSys IP Video 9100B', 'Generic Serial', 'IC Realtime DVR-FLEX16E', 'IC Realtime DVR-FLEX4E', 'IC Realtime DVR-FLEX8E', 'SnapAV Luma 500 DVR 16CH', 'SnapAV Luma 500 DVR 4CH', 'SnapAV Luma 500 DVR 8CH', 'SnapAV WPS-300-DVR-16CH', 'SnapAV WPS-300-DVR-9CH', 'Standard Connection']



One = Configurator.video
Two = Configurator.communicationdevices

Configurator.Reset(start=True)
Configurator.Start(password = '')




Current_List = Get_Device_List_Simple(One,Two)


Configurator.system.Click()

if Current_List != Past_List:
    Difference = Diff(Past_List,Current_List)
    error = 'List Changed\n' + str(Difference)
    raise ValueError(error)
Configurator.CloseAndClean()
'''
from ImageScripter import *
from elan.functions import Get_Device_Count
from elan import *



One = Configurator.video
Two = Configurator.communicationdevices
count = 11

newcount = Get_Device_Count_Simple(One,Two)
Com_Count_Pass_OR_Fail(One,Two,10)
print("New Count is " + str(newcount))


if count != newcount:
    Say('Count for ' + Two.DisplayName + " is off")
    raise ValueError('Exception 11 -> Count for ' + Two.DisplayName + " is off, raising error")
else:
    Say("The new count matches the old count. The test has passed")
Configurator.system.Click()
'''
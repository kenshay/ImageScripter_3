import os
import math

path = r"C:\Elan_Tools\Cloud_Drive"



def convert_size(size_bytes):
   if size_bytes == 0:
       return "0B"
   size_name = ("B", "KB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB")
   i = int(math.floor(math.log(size_bytes, 1024)))
   p = math.pow(1024, i)
   s = round(size_bytes / p, 2)
   #return "%s %s" % (s, size_name[i]) 
   return s





def get_size(start_path = path):
    total_size = 0
    for dirpath, dirnames, filenames in os.walk(start_path):
        for f in filenames:
            fp = os.path.join(dirpath, f)
            total_size += os.path.getsize(fp)
    return convert_size(total_size)

s = get_size()
if s >= 10:
	raise ValueError('Cloud Drive Size Too Large -> ',str(s),'GB')
else:
    print('Drive Size is OK for now',str(s),'GB')

if s <= 1:
	raise ValueError('Something is wrong with Cloud Drive -> ',str(s),'GB')
else:
    print('Cloud Size Check Test Passed ',str(s),'GB')







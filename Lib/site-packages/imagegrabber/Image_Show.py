from PyQt5 import QtGui,uic,QtCore
import sys
from PyQt5.QtWidgets import QApplication, QWidget
import subprocess
import numpy as np
import cv2
import paramiko
from scp import SCPClient
import sys
#import Image
from PIL import Image
nbytes = 4096
import os
import sys
from PyQt5 import QtGui,uic,QtCore
import sys
from PyQt5.QtWidgets import QApplication, QWidget
import image_grabber_class
import sys
from PyQt5.QtWidgets import QApplication, QWidget, QInputDialog, QLineEdit, QFileDialog
from PyQt5.QtGui import QIcon
import os
from shutil import copyfile


Main_Image_File = r"C:\Settings\Last_Templet_Image.png"



class Tool_Bar_Class(QWidget):
    def __init__(self):
        QWidget.__init__(self)
        paths = [Main_Image_File]
        self.fs_watcher = QtCore.QFileSystemWatcher(paths)
        self.fs_watcher.fileChanged.connect(self.File_Changed)
        self.ui = uic.loadUi('show_image.ui')
        self.ui.setWindowTitle('Show Image')
        self.load_image()
        self.ui.showMaximized()

    def load_image(self):
        Pixmap = QtGui.QPixmap(Main_Image_File)
        self.ui.label.setPixmap(Pixmap)
        self.ui.label.resize(Pixmap.width(), Pixmap.height())



    def File_Changed(self):
        self.load_image()






if __name__ == '__main__':
    app = QApplication(sys.argv)
    ex = Tool_Bar_Class()
    sys.exit(app.exec_())
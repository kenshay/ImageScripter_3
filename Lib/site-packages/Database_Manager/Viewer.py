from paths import Dictionary_Database_Folder
import os
import json
import time
import pickle

os.chdir(Dictionary_Database_Folder)
List_of_databases = os.listdir()
aList = []

for database_file_name in List_of_databases:
    #print('Grabbing Data ',database_file_name)
    #database_file_name = r"\\172.16.43.21\nas\Reports\Dictionary_Databases\FrankPC_Station__8_4_81_170.json"
    #with open(database_file_name) as f:
    #    aList.append(json.load(f))
    with open(database_file_name, 'rb') as f:
        #data = pickle.load(f)
        #print(data)
        aList.append(pickle.load(f))
    time.sleep(1)

for database_list in aList:
    for entry_dict in database_list:
        #print(entry_dict)
        if entry_dict['pass'] == 'False':
            if '36_Check_Schema_Version_ALERT' not in entry_dict['script_name']:
                if '1_Frank_Check_Schema_Version' not in entry_dict['script_name']:
                    print(entry_dict['pass'],' = ',entry_dict['script_name'])
                    print(entry_dict['error'])











#with open(r"\\172.16.43.21\nas\Reports\Dictionary_Databases\IP_AMP_Statuin__8_4_81_170.json") as f:
#    data = json.load(f)
#    print(data)

import os
import shutil, errno
from dirsync import sync


source = r"C:\ImageScripter_2\Lib\site-packages\elan"
destination = r"C:\Settings\elan"


def copyanything(src, dst):
    try:
        shutil.copytree(src, dst)
    except OSError as exc: # python >2.5
        if exc.errno == errno.ENOTDIR:
            shutil.copy(src, dst)
        else: raise

print("Starting Reset")
gitProject = r"C:\ImageScripter_2"
#git = "C:\Elan_Tools\Sync\cmd\git.exe"
git = r"C:\ImageScripter_2\Sync\cmd\git.exe"
os.chdir(gitProject)
os.system(git + ' reset --hard origin/master')
os.system(git + ' fetch --all')
os.system(git + ' reset --hard origin/master')
os.system(git + ' clean -f')
os.system(git + ' status')
print('Please do not close this window.')


sync(source,destination, 'sync', purge = True)

input("Finished Reset, you can now close this window")





#try:
#    shutil.rmtree(old_elan)
#except Exception as e:
#    print(e)
#print('Please Wait...')
#copyanything(elan_folder, old_elan)
#input("Finished Reset")

